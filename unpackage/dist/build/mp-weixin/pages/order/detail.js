(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/order/detail"],{"066b":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{order:{},addressData:{}}},onShow:function(){},onLoad:function(t){this.initData(t)},methods:{initData:function(e){var a=this;t.request({url:this.$Url+"/clmsj/order/getOrderDetails",data:{id:e.id},header:{auth:t.getStorageSync("session_key")},success:function(t){console.log(t.data.data),a.order=t.data.data;var e=a.orderStateExp(a.order.state),r=e.stateTip,n=e.stateTipColor;console.log({stateTip:r,stateTipColor:n}),console.log(a.order),a.order=Object.assign(a.order,{stateTip:r,stateTipColor:n}),console.log(a.order)}})},payment:function(e){var a=this;t.request({url:this.$Url+"/clmsj/order/getPayParam",data:{order_sn:e},header:{auth:t.getStorageSync("session_key")},success:function(e){console.log(e);var r=e.data.data;t.requestPayment({provider:"wxpay",timeStamp:r.timeStamp,nonceStr:r.nonceStr,package:r.package,signType:"MD5",paySign:r.paySign,success:function(e){t.showToast({title:"支付成功"}),a.initData({id:a.order.id})},fail:function(e){console.log("fail:"+JSON.stringify(e)),t.showToast({title:"支付失败"})}})}})},handleOrder:function(e,a){var r=this,n="您确认要进行该操作吗？";9==a?n="您确认要取消订单吗？":4==a&&(n="请确认您已收到货"),t.showModal({title:"提示",content:n,success:function(n){if(n.confirm){t.showLoading({title:"请稍后"});var o=r.orderStateExp(a),s=o.stateTip,i=o.stateTipColor;e=Object.assign(e,{state:a,stateTip:s,stateTipColor:i}),t.request({url:r.$Url+"/clmsj/order/userUpdateOrderStatus",data:{id:e.id,state:a},header:{auth:t.getStorageSync("session_key")},method:"POST",success:function(e){t.hideLoading(),0==e.data.code&&(r.order.state=a,r.$api.msg("操作成功"))}}),t.hideLoading()}}})},viewExpress:function(e){console.log("viewExpress"),t.navigateToMiniProgram({appId:"wx6885acbedba59c14",path:"pages/result/result?nu="+e.express_number+"&com=&querysource=third_xcx",success:function(t){}})},orderStateExp:function(t){var e="",a="#ffffff";switch(+t){case 1:e="待付款，请尽快支付";break;case 2:e="已付款，待发货";break;case 3:e="已发货，待收货";break;case 4:e="已收货";break;case 9:e="订单已关闭",a="#ffffff";break}return{stateTip:e,stateTipColor:a}}}};e.default=a}).call(this,a("543d")["default"])},"39be":function(t,e,a){"use strict";a.r(e);var r=a("066b"),n=a.n(r);for(var o in r)"default"!==o&&function(t){a.d(e,t,(function(){return r[t]}))}(o);e["default"]=n.a},6243:function(t,e,a){"use strict";a.r(e);var r=a("74c5"),n=a("39be");for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("6631");var s,i=a("f0c5"),c=Object(i["a"])(n["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],s);e["default"]=c.exports},6631:function(t,e,a){"use strict";var r=a("9e9d"),n=a.n(r);n.a},"74c5":function(t,e,a){"use strict";var r,n=function(){var t=this,e=t.$createElement;t._self._c},o=[];a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return r}))},"9bc9":function(t,e,a){"use strict";(function(t){a("36ef");r(a("66fd"));var e=r(a("6243"));function r(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("543d")["createPage"])},"9e9d":function(t,e,a){}},[["9bc9","common/runtime","common/vendor"]]]);