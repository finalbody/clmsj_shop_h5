(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/user"],{"307a":function(e,t,o){"use strict";var n=o("e83b"),r=o.n(n);r.a},"97bc":function(e,t,o){"use strict";o.r(t);var n=o("a0cb"),r=o("cf8f");for(var a in r)"default"!==a&&function(e){o.d(t,e,(function(){return r[e]}))}(a);o("307a");var c,i=o("f0c5"),s=Object(i["a"])(r["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],c);t["default"]=s.exports},a0cb:function(e,t,o){"use strict";var n,r=function(){var e=this,t=e.$createElement;e._self._c},a=[];o.d(t,"b",(function(){return r})),o.d(t,"c",(function(){return a})),o.d(t,"a",(function(){return n}))},cf8f:function(e,t,o){"use strict";o.r(t);var n=o("e2da"),r=o.n(n);for(var a in n)"default"!==a&&function(e){o.d(t,e,(function(){return n[e]}))}(a);t["default"]=r.a},deff:function(e,t,o){"use strict";(function(e){o("36ef");n(o("66fd"));var t=n(o("97bc"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,o("543d")["createPage"])},e2da:function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=requirePlugin("live-player-plugin"),r=function(){o.e("components/page-bottom").then(function(){return resolve(o("2469"))}.bind(null,o)).catch(o.oe)},a=function(){o.e("components/mix-list-cell").then(function(){return resolve(o("4cf4"))}.bind(null,o)).catch(o.oe)},c=0,i=0,s=!0,u={components:{pageBottom:r,listCell:a},data:function(){return{roomId:0,coverTransform:"translateY(0px)",coverTransition:"0s",moving:!1,userInfo:{},subscribe:"plugin-private://wx2b03c6e691cd7370/components/subscribe/subscribe",storeReport:{},storeInfo:{id:0}}},onShow:function(){this.loadData()},onLoad:function(){},methods:{livePlayer:function(){var e=2;n.getLiveStatus({room_id:e}).then((function(e){var t=e.liveStatus;console.log("get live status",t)})).catch((function(e){console.log("get live status",e)}))},loadData:function(){var t=this;setTimeout((function(){e.request({url:t.$Url+"/clmsj/user/getUser",header:{auth:e.getStorageSync("session_key")},method:"POST",success:function(o){0==o.data.code&&(t.userInfo=o.data.data.user,t.storeInfo=o.data.data.shop,e.setStorageSync("userInfo",t.userInfo),1==t.userInfo.role&&e.request({url:t.$Url+"/clmsj/user/shopSellStatistics",header:{auth:e.getStorageSync("session_key")},method:"POST",success:function(e){0==e.data.code&&(t.storeReport=e.data.data)}}))}})}),500)},getPhoneNumber:function(t){console.log("getPhoneNumber"),console.log(t);var o=this;"getPhoneNumber:fail user deny"==t.detail.errMsg||e.request({url:o.$Url+"/fushi/home/getPhoneNumber",data:{encrypt_data:encodeURIComponent(t.detail.encryptedData),iv:t.detail.iv},header:{auth:e.getStorageSync("session_key")},method:"POST",success:function(t){console.log(t),0==t.data.code?(o.userInfo.mobile=t.data.mobile,o.$store.commit("login",o.userInfo)):e.showToast({icon:"none",title:"手机号获取失败"})}})},navToLive:function(){var e=this.roomId;n.getOpenid({room_id:e}).then((function(t){console.log("用户进入直播间 get openid",t.openid);var o=encodeURIComponent(JSON.stringify({path:"pages/product/product",pid:1}));wx.navigateTo({url:"plugin-private://wx2b03c6e691cd7370/pages/live-player-plugin?room_id=".concat(e,"&custom_params=").concat(o)})})).catch((function(e){console.log("get openid",e)}))},navTo:function(t,o){console.log(t),e.getStorageSync("session_key")&&this.userInfo.id?"switchTab"==o?e.switchTab({url:t}):e.navigateTo({url:t}):e.navigateTo({url:"/pages/public/login"})},coverTouchstart:function(e){!1!==s&&(this.coverTransition="transform .1s linear",c=e.touches[0].clientY)},coverTouchmove:function(e){i=e.touches[0].clientY;var t=i-c;t<0?this.moving=!1:(this.moving=!0,t>=80&&t<100&&(t=80),t>0&&t<=80&&(this.coverTransform="translateY(".concat(t,"px)")))},coverTouchend:function(){!1!==this.moving&&(this.moving=!1,this.coverTransition="transform 0.3s cubic-bezier(.21,1.93,.53,.64)",this.coverTransform="translateY(0px)")}}};t.default=u}).call(this,o("543d")["default"])},e83b:function(e,t,o){}},[["deff","common/runtime","common/vendor"]]]);