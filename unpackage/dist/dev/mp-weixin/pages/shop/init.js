(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/shop/init"],{128:
/*!*************************************************************************************!*\
  !*** E:/work_home/shop.clmsj.com/clmsj_shop/main.js?{"page":"pages%2Fshop%2Finit"} ***!
  \*************************************************************************************/
/*! no static exports found */function(e,o,n){"use strict";(function(e){n(/*! uni-pages */4);t(n(/*! vue */2));var o=t(n(/*! ./pages/shop/init.vue */129));function t(e){return e&&e.__esModule?e:{default:e}}e(o.default)}).call(this,n(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["createPage"])},129:
/*!******************************************************************!*\
  !*** E:/work_home/shop.clmsj.com/clmsj_shop/pages/shop/init.vue ***!
  \******************************************************************/
/*! no static exports found */function(e,o,n){"use strict";n.r(o);var t=n(/*! ./init.vue?vue&type=template&id=0f6a0a94& */130),a=n(/*! ./init.vue?vue&type=script&lang=js& */132);for(var s in a)"default"!==s&&function(e){n.d(o,e,(function(){return a[e]}))}(s);n(/*! ./init.vue?vue&type=style&index=0&lang=scss& */135);var r,i=n(/*! ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */12),c=Object(i["default"])(a["default"],t["render"],t["staticRenderFns"],!1,null,null,null,!1,t["components"],r);c.options.__file="E:/work_home/shop.clmsj.com/clmsj_shop/pages/shop/init.vue",o["default"]=c.exports},130:
/*!*************************************************************************************************!*\
  !*** E:/work_home/shop.clmsj.com/clmsj_shop/pages/shop/init.vue?vue&type=template&id=0f6a0a94& ***!
  \*************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,o,n){"use strict";n.r(o);var t=n(/*! -!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./init.vue?vue&type=template&id=0f6a0a94& */131);n.d(o,"render",(function(){return t["render"]})),n.d(o,"staticRenderFns",(function(){return t["staticRenderFns"]})),n.d(o,"recyclableRender",(function(){return t["recyclableRender"]})),n.d(o,"components",(function(){return t["components"]}))},131:
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/work_home/shop.clmsj.com/clmsj_shop/pages/shop/init.vue?vue&type=template&id=0f6a0a94& ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,o,n){"use strict";var t;n.r(o),n.d(o,"render",(function(){return a})),n.d(o,"staticRenderFns",(function(){return r})),n.d(o,"recyclableRender",(function(){return s})),n.d(o,"components",(function(){return t}));var a=function(){var e=this,o=e.$createElement;e._self._c},s=!1,r=[];a._withStripped=!0},132:
/*!*******************************************************************************************!*\
  !*** E:/work_home/shop.clmsj.com/clmsj_shop/pages/shop/init.vue?vue&type=script&lang=js& ***!
  \*******************************************************************************************/
/*! no static exports found */function(e,o,n){"use strict";n.r(o);var t=n(/*! -!./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./init.vue?vue&type=script&lang=js& */133),a=n.n(t);for(var s in t)"default"!==s&&function(e){n.d(o,e,(function(){return t[e]}))}(s);o["default"]=a.a},133:
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/work_home/shop.clmsj.com/clmsj_shop/pages/shop/init.vue?vue&type=script&lang=js& ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,o,n){"use strict";(function(e){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var t,a=n(/*! ../../common/qiniuUploader */134),s={data:function(){return{shopApi:"/clmsj/Shop/addShop",shopInfo:{logo:"",cover:""}}},onShow:function(){},onLoad:function(){this.loadData()},methods:{loadData:function(){if(e.getStorageSync("session_key")){e.getStorageSync("userInfo");t=this,e.request({url:t.$Url+"/clmsj/Shop/getShop",header:{auth:e.getStorageSync("session_key")},method:"POST",success:function(e){0==e.data.code&&(console.log("res.data.data.shop.length=="+!e.data.data.shop),e.data.data.shop.id&&(t.shopInfo=e.data.data.shop,console.log("shop 有数据")))}})}else e.navigateTo({url:"/pages/public/login"})},submit:function(){if(t.shopInfo.name){if(Number(t.shopInfo.id)>0)this.shopApi="/clmsj/Shop/editShop";else if(!t.shopInfo.leader_code)return void t.$api.msg("请填写上级的开店邀请码");e.showLoading({title:"提交中..."}),e.request({url:t.$Url+this.shopApi,data:t.shopInfo,header:{auth:e.getStorageSync("session_key")},method:"POST",success:function(o){e.hideLoading(),0==o.data.code?(Number(t.shopInfo.id)>0?t.$api.msg("信息更新成功"):t.$api.msg("店铺申请成功，您可以去选择商品进行铺货了"),setTimeout((function(){e.navigateTo({url:"/pages/user/user"})}),1500)):(t.$api.msg("更新失败! "+o.data.msg),1==o.data.code&&e.navigateTo({url:"/pages/user/user"}))}})}else t.$api.msg("请填写您的店铺名")},uploadImage:function(o,n){if(void 0!=o.filePath){var s=new Date,r="clmsj/"+s.getFullYear()+"/"+s.getMonth()+"-"+s.getDate()+"/";return console.log(t.shopInfo),console.log(t.shopInfo),i(0),!1}function i(e){var s=o.filePath[e].split("."),c="."+s[s.length-1],u=Math.random().toString(36).substr(3,8)+Date.now().toString(36),l=r+u+c;a.upload(o.filePath[e],(function(a){t.shopInfo[n.key]="http://"+a.imageURL,console.log("成功==="+t.shopInfo[n.key]),console.log(t.shopInfo),e<o.filePath.length-1&&(e++,i(e)),t.$forceUpdate()}),(function(e){console.log("error: "),console.log(e)}),{region:"SCN",domain:"pic.clmsj.com",key:l,uptoken:o.token,shouldUseQiniuFileName:!1})}e.showToast({icon:"none",title:"请选择需要更新的图片"})},clchooseImage:function(o){var n=this;console.log("clchooseImage");var a={token:[],key:[],filePath:[]};e.chooseImage({sizeType:["original","compressed"],sourceType:["album","camera"],count:o.count,success:function(s){a.filePath=a.filePath.concat(s.tempFilePaths),e.request({url:t.$Url+"/clmsj/goods/qiniu_token",header:{auth:e.getStorageSync("session_key")},success:function(e){a.token=e.data.data,n.uploadImage(a,o)}})},fail:function(e){console.log(e)}})},previewImage:function(o){var n=o.target.dataset.src;e.previewImage({current:n,urls:[n]})}}};o.default=s}).call(this,n(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["default"])},135:
/*!****************************************************************************************************!*\
  !*** E:/work_home/shop.clmsj.com/clmsj_shop/pages/shop/init.vue?vue&type=style&index=0&lang=scss& ***!
  \****************************************************************************************************/
/*! no static exports found */function(e,o,n){"use strict";n.r(o);var t=n(/*! -!./node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-2!./node_modules/postcss-loader/src??ref--8-oneOf-1-3!./node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./init.vue?vue&type=style&index=0&lang=scss& */136),a=n.n(t);for(var s in t)"default"!==s&&function(e){n.d(o,e,(function(){return t[e]}))}(s);o["default"]=a.a},136:
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-2!./node_modules/postcss-loader/src??ref--8-oneOf-1-3!./node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/work_home/shop.clmsj.com/clmsj_shop/pages/shop/init.vue?vue&type=style&index=0&lang=scss& ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,o,n){}},[[128,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/shop/init.js.map