{"version":3,"sources":["webpack:///E:/work_home/shop.clmsj.com/clmsj_shop/main.js","webpack:///E:/work_home/shop.clmsj.com/clmsj_shop/pages/public/login.vue?7163","webpack:///E:/work_home/shop.clmsj.com/clmsj_shop/pages/public/login.vue?bd7a","webpack:///E:/work_home/shop.clmsj.com/clmsj_shop/pages/public/login.vue?9b54","webpack:///E:/work_home/shop.clmsj.com/clmsj_shop/pages/public/login.vue?23a4","webpack:///E:/work_home/shop.clmsj.com/clmsj_shop/pages/public/login.vue","webpack:///E:/work_home/shop.clmsj.com/clmsj_shop/pages/public/login.vue?68e3"],"names":["createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped","data","mobile","password","logining","onLoad","methods","getUserInfo","res","detail","iv","uni","showToast","title","icon","_this","login","provider","success","loginRes","withCredentials","infoRes","request","url","$Url","encrypt_data","encodeURIComponent","encryptedData","code","type","method","setStorageSync","auth","user","navigateBack","fail","console","log","JSON","stringify","onNavigateBack","delta","Number","inputChange","e","key","currentTarget","dataset","value","navBack","toRegist","$api","msg","toLogin","json","result","status"],"mappings":";;;;wEAAA,qBACA,sBACA,2C,mDACAA,EAAWC,a;;;;2DCHX,yQACIC,EADJ,iHASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,gEACZ,aAAAF,E;;;;2GCvBf,kzB;;;;2GCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G;;;;2DCRvB,seAAs0B,eAAG,G;;;;imBCyB1zB,CACbC,KADa,WAEZ,MAAO,CACNC,OAAQ,GACRC,SAAU,GACVC,UAAU,IAGZC,OARa,aAWbC,QAAS,CACRC,YADQ,SACIC,GACX,IAAKA,EAAIC,OAAOC,GAKf,OAJAC,EAAIC,UAAU,CACbC,MAAO,cACPC,KAAM,UAEA,EAEL,IAAIC,EAAQtB,KAEfkB,EAAIK,MAAM,CACTC,SAAU,SACVC,QAAS,SAASC,GACjBR,EAAIJ,YAAY,CACfU,SAAU,SACVG,iBAAgB,EAChBF,QAAS,SAAUG,GAClBV,EAAIW,QAAQ,CACXC,IAAKR,EAAMS,KAAO,qBAClBvB,KAAM,CACLwB,aAAaC,mBAAmBL,EAAQM,eACxCjB,GAAGgB,mBAAmBL,EAAQX,IAC9BkB,KAAKT,EAASS,KACdC,KAAK,GAENC,OAAO,OACPZ,QAAS,SAACV,GACY,GAAjBA,EAAIP,KAAK2B,MACZjB,EAAIoB,eAAe,cAAcvB,EAAIP,KAAK+B,MAC1CrB,EAAIoB,eAAe,WAAWvB,EAAIP,KAAKA,KAAKgC,MAC5CtB,EAAIuB,gBAEJvB,EAAIC,UAAU,CACbE,KAAK,OACLD,MAAM,mBAMXsB,KAAK,SAASd,GACbe,QAAQC,IAAI,WAAWC,KAAKC,UAAUlB,WAgB3CmB,eA1DQ,SA0DOC,GACX9B,EAAIuB,aAAa,CACfO,MAAOC,OAAOD,GAAS,MAG7BE,YA/DQ,SA+DIC,GACX,IAAMC,EAAMD,EAAEE,cAAcC,QAAQF,IACpCpD,KAAKoD,GAAOD,EAAEnC,OAAOuC,OAEtBC,QAnEQ,WAoEPtC,EAAIuB,aAAa,CAChBO,MAAOC,OAAO,MAGhBQ,SAxEQ,WAyEPzD,KAAK0D,KAAKC,IAAI,QAETC,QA3EE,WA2EQ,IAAD,sIACd,EAAKjD,UAAW,EACTF,EAAoB,EAApBA,OAAQC,EAAY,EAAZA,SAUE,CAChBD,SACAC,YAda,SAgBO,EAAKgD,KAAKG,KAAK,YAhBtB,OAgBRC,EAhBQ,OAiBO,IAAlBA,EAAOC,QACT,EAAKxC,MAAMuC,EAAOtD,MACHU,EAAIuB,iBAEnB,EAAKiB,KAAKC,IAAIG,EAAOH,KACrB,EAAKhD,UAAW,GAtBH,gD;;;;2DC/GlB,s0BAAo/C,eAAG,G","file":"pages/public/login.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/public/login.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./login.vue?vue&type=template&id=0716a488&\"\nvar renderjs\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\360安全浏览器下载\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"E:/work_home/shop.clmsj.com/clmsj_shop/pages/public/login.vue\"\nexport default component.exports","export * from \"-!D:\\\\360安全浏览器下载\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\360安全浏览器下载\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\360安全浏览器下载\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\360安全浏览器下载\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\360安全浏览器下载\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\360安全浏览器下载\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=template&id=0716a488&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\360安全浏览器下载\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\360安全浏览器下载\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\360安全浏览器下载\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\360安全浏览器下载\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\360安全浏览器下载\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\360安全浏览器下载\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\360安全浏览器下载\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\360安全浏览器下载\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\360安全浏览器下载\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\360安全浏览器下载\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\texport default{\n\t\tdata(){\n\t\t\treturn {\n\t\t\t\tmobile: '',\n\t\t\t\tpassword: '',\n\t\t\t\tlogining: false,\n\t\t\t}\n\t\t},\n\t\tonLoad(){\n\t\t\t\n\t\t},\n\t\tmethods: {\n\t\t\tgetUserInfo(res) {\n\t\t\t\tif (!res.detail.iv) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: \"您取消了授权,登录失败\",\n\t\t\t\t\t\ticon: \"none\"\n\t\t\t\t\t});\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t    let _this = this;\n\t\t\t\t\n\t\t\t\tuni.login({\n\t\t\t\t\tprovider: 'weixin',\n\t\t\t\t\tsuccess: function(loginRes) {\n\t\t\t\t\t\tuni.getUserInfo({\n\t\t\t\t\t\t\tprovider: 'weixin',  \n\t\t\t\t\t\t\twithCredentials:true,  \n\t\t\t\t\t\t\tsuccess: function (infoRes) {  \n\t\t\t\t\t\t\t\tuni.request({\n\t\t\t\t\t\t\t\t\turl: _this.$Url + '/clmsj/login/index', // http://bull.hnw.net/index/bull/client_wash_info\n\t\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\t\tencrypt_data:encodeURIComponent(infoRes.encryptedData),\n\t\t\t\t\t\t\t\t\t\tiv:encodeURIComponent(infoRes.iv),\n\t\t\t\t\t\t\t\t\t\tcode:loginRes.code,\n\t\t\t\t\t\t\t\t\t\ttype:2,  //type   1专业版  2零售版\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tmethod:'POST',\n\t\t\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\t\t\tif (res.data.code == 0) {\n\t\t\t\t\t\t\t\t\t\t\tuni.setStorageSync(\"session_key\",res.data.auth);\n\t\t\t\t\t\t\t\t\t\t\tuni.setStorageSync(\"userInfo\",res.data.data.user);\n\t\t\t\t\t\t\t\t\t\t\tuni.navigateBack();  \n\t\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\t\ticon:'none',\n\t\t\t\t\t\t\t\t\t\t\t\ttitle:'请重新获取信息...'\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t},  \n\t\t\t\t\t\t\tfail:function(infoRes){  \n\t\t\t\t\t\t\t\tconsole.log('infoRes='+JSON.stringify(infoRes))  \n\t\t\t\t\t\t\t}  \n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t  \n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t    // App.getUserInfo(e, () => {\n\t\t\t    //   // 跳转回原页面\n\t\t\t    //   _this.onNavigateBack(1);\n\t\t\t    // });\n\t\t\t},\n\t\t\tonNavigateBack(delta) {\n\t\t\t    uni.navigateBack({\n\t\t\t      delta: Number(delta || 1)\n\t\t\t    });\n\t\t\t},\n\t\t\tinputChange(e){\n\t\t\t\tconst key = e.currentTarget.dataset.key;\n\t\t\t\tthis[key] = e.detail.value;\n\t\t\t},\n\t\t\tnavBack(){\n\t\t\t\tuni.navigateBack({\n\t\t\t\t\tdelta: Number(2)\n\t\t\t\t});\n\t\t\t},\n\t\t\ttoRegist(){\n\t\t\t\tthis.$api.msg('去注册');\n\t\t\t},\n\t\t\tasync toLogin(){\n\t\t\t\tthis.logining = true;\n\t\t\t\tconst {mobile, password} = this;\n\t\t\t\t/* 数据验证模块\n\t\t\t\tif(!this.$api.match({\n\t\t\t\t\tmobile,\n\t\t\t\t\tpassword\n\t\t\t\t})){\n\t\t\t\t\tthis.logining = false;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t*/\n\t\t\t\tconst sendData = {\n\t\t\t\t\tmobile,\n\t\t\t\t\tpassword\n\t\t\t\t};\n\t\t\t\tconst result = await this.$api.json('userInfo');\n\t\t\t\tif(result.status === 1){\n\t\t\t\t\tthis.login(result.data);\n                    uni.navigateBack();  \n\t\t\t\t}else{\n\t\t\t\t\tthis.$api.msg(result.msg);\n\t\t\t\t\tthis.logining = false;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t}\n","import mod from \"-!D:\\\\360安全浏览器下载\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\360安全浏览器下载\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\360安全浏览器下载\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\360安全浏览器下载\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\360安全浏览器下载\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\360安全浏览器下载\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\360安全浏览器下载\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\360安全浏览器下载\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\360安全浏览器下载\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!D:\\\\360安全浏览器下载\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\360安全浏览器下载\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\360安全浏览器下载\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\360安全浏览器下载\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\360安全浏览器下载\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\360安全浏览器下载\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\360安全浏览器下载\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\360安全浏览器下载\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\360安全浏览器下载\\\\HBuilderX.1.9.3.20190422.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}